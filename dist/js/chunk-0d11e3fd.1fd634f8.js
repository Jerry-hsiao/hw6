(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d11e3fd"],{"057f":function(t,e,o){var n=o("c6b6"),a=o("fc6a"),r=o("241c").f,c=o("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(t){try{return r(t)}catch(e){return c(i)}};t.exports.f=function(t){return i&&"Window"==n(t)?d(t):r(a(t))}},"07ac":function(t,e,o){var n=o("23e7"),a=o("6f53").values;n({target:"Object",stat:!0},{values:function(t){return a(t)}})},"1dde":function(t,e,o){var n=o("d039"),a=o("b622"),r=o("2d00"),c=a("species");t.exports=function(t){return r>=51||!n((function(){var e=[],o=e.constructor={};return o[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"428f":function(t,e,o){var n=o("da84");t.exports=n},"4dae":function(t,e,o){var n=o("da84"),a=o("23cb"),r=o("07fa"),c=o("8418"),i=n.Array,d=Math.max;t.exports=function(t,e,o){for(var n=r(t),s=a(e,n),u=a(void 0===o?n:o,n),l=i(d(u-s,0)),f=0;s<u;s++,f++)c(l,f,t[s]);return l.length=f,l}},"6f53":function(t,e,o){var n=o("83ab"),a=o("e330"),r=o("df75"),c=o("fc6a"),i=o("d1e7").f,d=a(i),s=a([].push),u=function(t){return function(e){var o,a=c(e),i=r(a),u=i.length,l=0,f=[];while(u>l)o=i[l++],n&&!d(a,o)||s(f,t?[o,a[o]]:a[o]);return f}};t.exports={entries:u(!0),values:u(!1)}},"746f":function(t,e,o){var n=o("428f"),a=o("1a2d"),r=o("e538"),c=o("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});a(e,t)||c(e,t,{value:r.f(t)})}},"7b05":function(t,e,o){"use strict";o("df3c")},8418:function(t,e,o){"use strict";var n=o("a04b"),a=o("9bf2"),r=o("5c6c");t.exports=function(t,e,o){var c=n(e);c in t?a.f(t,c,r(0,o)):t[c]=o}},"99af":function(t,e,o){"use strict";var n=o("23e7"),a=o("da84"),r=o("d039"),c=o("e8b5"),i=o("861d"),d=o("7b0b"),s=o("07fa"),u=o("8418"),l=o("65f0"),f=o("1dde"),b=o("b622"),h=o("2d00"),p=b("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=a.TypeError,O=h>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),j=f("concat"),y=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},w=!O||!j;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,o,n,a,r,c=d(this),i=l(c,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?c:arguments[e],y(r)){if(a=s(r),f+a>g)throw m(v);for(o=0;o<a;o++,f++)o in r&&u(i,f,r[o])}else{if(f>=g)throw m(v);u(i,f++,r)}return i.length=f,i}})},a4d3:function(t,e,o){"use strict";var n=o("23e7"),a=o("da84"),r=o("d066"),c=o("2ba4"),i=o("c65b"),d=o("e330"),s=o("c430"),u=o("83ab"),l=o("4930"),f=o("d039"),b=o("1a2d"),h=o("e8b5"),p=o("1626"),g=o("861d"),v=o("3a9b"),m=o("d9b5"),O=o("825a"),j=o("7b0b"),y=o("fc6a"),w=o("a04b"),S=o("577e"),x=o("5c6c"),L=o("7c73"),C=o("df75"),k=o("241c"),P=o("057f"),I=o("7418"),M=o("06cf"),$=o("9bf2"),T=o("37e8"),_=o("d1e7"),q=o("f36a"),A=o("6eeb"),D=o("5692"),N=o("f772"),V=o("d012"),E=o("90e3"),J=o("b622"),Q=o("e538"),F=o("746f"),U=o("d44e"),z=o("69f3"),B=o("b727").forEach,G=N("hidden"),W="Symbol",H="prototype",K=J("toPrimitive"),R=z.set,X=z.getterFor(W),Y=Object[H],Z=a.Symbol,tt=Z&&Z[H],et=a.TypeError,ot=a.QObject,nt=r("JSON","stringify"),at=M.f,rt=$.f,ct=P.f,it=_.f,dt=d([].push),st=D("symbols"),ut=D("op-symbols"),lt=D("string-to-symbol-registry"),ft=D("symbol-to-string-registry"),bt=D("wks"),ht=!ot||!ot[H]||!ot[H].findChild,pt=u&&f((function(){return 7!=L(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,o){var n=at(Y,e);n&&delete Y[e],rt(t,e,o),n&&t!==Y&&rt(Y,e,n)}:rt,gt=function(t,e){var o=st[t]=L(tt);return R(o,{type:W,tag:t,description:e}),u||(o.description=e),o},vt=function(t,e,o){t===Y&&vt(ut,e,o),O(t);var n=w(e);return O(o),b(st,n)?(o.enumerable?(b(t,G)&&t[G][n]&&(t[G][n]=!1),o=L(o,{enumerable:x(0,!1)})):(b(t,G)||rt(t,G,x(1,{})),t[G][n]=!0),pt(t,n,o)):rt(t,n,o)},mt=function(t,e){O(t);var o=y(e),n=C(o).concat(St(o));return B(n,(function(e){u&&!i(jt,o,e)||vt(t,e,o[e])})),t},Ot=function(t,e){return void 0===e?L(t):mt(L(t),e)},jt=function(t){var e=w(t),o=i(it,this,e);return!(this===Y&&b(st,e)&&!b(ut,e))&&(!(o||!b(this,e)||!b(st,e)||b(this,G)&&this[G][e])||o)},yt=function(t,e){var o=y(t),n=w(e);if(o!==Y||!b(st,n)||b(ut,n)){var a=at(o,n);return!a||!b(st,n)||b(o,G)&&o[G][n]||(a.enumerable=!0),a}},wt=function(t){var e=ct(y(t)),o=[];return B(e,(function(t){b(st,t)||b(V,t)||dt(o,t)})),o},St=function(t){var e=t===Y,o=ct(e?ut:y(t)),n=[];return B(o,(function(t){!b(st,t)||e&&!b(Y,t)||dt(n,st[t])})),n};if(l||(Z=function(){if(v(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=E(t),o=function(t){this===Y&&i(o,ut,t),b(this,G)&&b(this[G],e)&&(this[G][e]=!1),pt(this,e,x(1,t))};return u&&ht&&pt(Y,e,{configurable:!0,set:o}),gt(e,t)},tt=Z[H],A(tt,"toString",(function(){return X(this).tag})),A(Z,"withoutSetter",(function(t){return gt(E(t),t)})),_.f=jt,$.f=vt,T.f=mt,M.f=yt,k.f=P.f=wt,I.f=St,Q.f=function(t){return gt(J(t),t)},u&&(rt(tt,"description",{configurable:!0,get:function(){return X(this).description}}),s||A(Y,"propertyIsEnumerable",jt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Z}),B(C(bt),(function(t){F(t)})),n({target:W,stat:!0,forced:!l},{for:function(t){var e=S(t);if(b(lt,e))return lt[e];var o=Z(e);return lt[e]=o,ft[o]=e,o},keyFor:function(t){if(!m(t))throw et(t+" is not a symbol");if(b(ft,t))return ft[t]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!u},{create:Ot,defineProperty:vt,defineProperties:mt,getOwnPropertyDescriptor:yt}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:wt,getOwnPropertySymbols:St}),n({target:"Object",stat:!0,forced:f((function(){I.f(1)}))},{getOwnPropertySymbols:function(t){return I.f(j(t))}}),nt){var xt=!l||f((function(){var t=Z();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}));n({target:"JSON",stat:!0,forced:xt},{stringify:function(t,e,o){var n=q(arguments),a=e;if((g(e)||void 0!==t)&&!m(t))return h(e)||(e=function(t,e){if(p(a)&&(e=i(a,this,t,e)),!m(e))return e}),n[1]=e,c(nt,null,n)}})}if(!tt[K]){var Lt=tt.valueOf;A(tt,K,(function(t){return i(Lt,this)}))}U(Z,W),V[G]=!0},d81d:function(t,e,o){"use strict";var n=o("23e7"),a=o("b727").map,r=o("1dde"),c=r("map");n({target:"Array",proto:!0,forced:!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},df3c:function(t,e,o){},e01a:function(t,e,o){"use strict";var n=o("23e7"),a=o("83ab"),r=o("da84"),c=o("e330"),i=o("1a2d"),d=o("1626"),s=o("3a9b"),u=o("577e"),l=o("9bf2").f,f=o("e893"),b=r.Symbol,h=b&&b.prototype;if(a&&d(b)&&(!("description"in h)||void 0!==b().description)){var p={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=s(h,this)?new b(t):void 0===t?b():b(t);return""===t&&(p[e]=!0),e};f(g,b),g.prototype=h,h.constructor=g;var v="Symbol(test)"==String(b("test")),m=c(h.toString),O=c(h.valueOf),j=/^Symbol\((.*)\)[^)]+$/,y=c("".replace),w=c("".slice);l(h,"description",{configurable:!0,get:function(){var t=O(this),e=m(t);if(i(p,t))return"";var o=v?w(e,7,-1):y(e,j,"$1");return""===o?void 0:o}}),n({global:!0,forced:!0},{Symbol:g})}},e538:function(t,e,o){var n=o("b622");e.f=n},fd15:function(t,e,o){"use strict";o.r(e);var n=o("7a23"),a={class:"container"},r={class:"mt-4"},c={class:"table align-middle"},i=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",null,"圖片"),Object(n["h"])("th",null,"商品名稱"),Object(n["h"])("th",null,"價格"),Object(n["h"])("th")])],-1),d={style:{width:"200px"}},s={key:0,class:"h5"},u={key:1,class:"h6"},l={key:2,class:"h5"},f={class:"btn-group btn-group-sm"},b=["onClick","disabled"],h={class:"spinner-grow spinner-grow-sm"},p=Object(n["i"])(" 查看更多 "),g=["onClick","disabled"],v={class:"spinner-grow spinner-grow-sm"},m=Object(n["i"])(" 加到購物車 ");function O(t,e,o,O,j,y){var w=Object(n["I"])("Loading"),S=Object(n["I"])("ProductDetail");return Object(n["y"])(),Object(n["g"])("div",a,[Object(n["j"])(w,{active:j.isLoading},null,8,["active"]),Object(n["h"])("div",r,[Object(n["j"])(S,{product:j.product,onAddToCart:y.addToCart,ref:"orderProductModal"},null,8,["product","onAddToCart"]),Object(n["h"])("table",c,[i,Object(n["h"])("tbody",null,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["G"])(j.products,(function(t){return Object(n["y"])(),Object(n["g"])("tr",{key:t.id},[Object(n["h"])("td",d,[Object(n["h"])("div",{style:Object(n["s"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(n["h"])("td",null,Object(n["L"])(t.title),1),Object(n["h"])("td",null,[t.price?Object(n["f"])("",!0):(Object(n["y"])(),Object(n["g"])("div",s,Object(n["L"])(t.origin_price)+" 元",1)),t.price?(Object(n["y"])(),Object(n["g"])("del",u,"原價 "+Object(n["L"])(t.origin_price)+" 元",1)):Object(n["f"])("",!0),t.price?(Object(n["y"])(),Object(n["g"])("div",l,"現在只要 "+Object(n["L"])(t.price)+" 元",1)):Object(n["f"])("",!0)]),Object(n["h"])("td",null,[Object(n["h"])("div",f,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return y.getProduct(t)},disabled:j.loadingStatus.loadingItem===t.id},[Object(n["V"])(Object(n["h"])("span",h,null,512),[[n["Q"],j.loadingStatus.loadingItem===t.id]]),p],8,b),Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return y.addToCart(t.id)},disabled:j.loadingStatus.loadingItem===t.id},[Object(n["V"])(Object(n["h"])("span",v,null,512),[[n["Q"],j.loadingStatus.loadingItem===t.id]]),m],8,g)])])])})),128))])])])])}o("99af"),o("d81d"),o("07ac"),o("a4d3"),o("e01a");var j={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},y={class:"modal-dialog modal-xl",role:"document"},w={class:"modal-content border-0"},S={class:"modal-header bg-dark text-white"},x={class:"modal-title",id:"exampleModalLabel"},L={class:"modal-body"},C={class:"row"},k={class:"col-sm-6"},P=["src"],I={class:"col-sm-6"},M={class:"badge bg-primary rounded-pill"},$={key:0,class:"h5"},T={key:1,class:"h6"},_={key:2,class:"h5"},q={class:"input-group"},A=["disabled"],D={class:"spinner-grow spinner-grow-sm"},N=Object(n["i"])(" 加入購物車 ");function V(t,e,o,a,r,c){return Object(n["y"])(),Object(n["g"])("div",j,[Object(n["h"])("div",y,[Object(n["h"])("div",w,[Object(n["h"])("div",S,[Object(n["h"])("h5",x,[Object(n["h"])("span",null,Object(n["L"])(o.product.title),1)]),Object(n["h"])("button",{onClick:e[0]||(e[0]=function(t){return c.hideModal()}),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),Object(n["h"])("div",L,[Object(n["h"])("div",C,[Object(n["h"])("div",k,[Object(n["h"])("img",{class:"img-fluid",src:o.product.imageUrl,alt:""},null,8,P)]),Object(n["h"])("div",I,[Object(n["h"])("span",M,Object(n["L"])(o.product.category),1),Object(n["h"])("p",null,"商品描述："+Object(n["L"])(o.product.description),1),Object(n["h"])("p",null,"商品內容："+Object(n["L"])(o.product.content),1),o.product.price?Object(n["f"])("",!0):(Object(n["y"])(),Object(n["g"])("div",$,Object(n["L"])(o.product.origin_price)+" 元 ",1)),o.product.price?(Object(n["y"])(),Object(n["g"])("del",T,"原價 "+Object(n["L"])(o.product.origin_price)+" 元",1)):Object(n["f"])("",!0),o.product.price?(Object(n["y"])(),Object(n["g"])("div",_," 現在只要 "+Object(n["L"])(o.product.price)+" 元 ",1)):Object(n["f"])("",!0),Object(n["h"])("div",null,[Object(n["h"])("div",q,[Object(n["V"])(Object(n["h"])("input",{type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.qty=t}),min:"1"},null,512),[[n["P"],r.qty,void 0,{number:!0}]]),Object(n["h"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return c.addToCart(o.product)}),disabled:r.loadingStatus.loadingItem===o.product.id},[Object(n["V"])(Object(n["h"])("span",D,null,512),[[n["Q"],r.loadingStatus.loadingItem===o.product.id]]),N],8,A)])])])])])])])],512)}var E=o("7b17"),J={data:function(){return{modal:"",qty:1,loadingStatus:{loadingItem:""}}},props:["product"],methods:{addToCart:function(t){this.loadingStatus.loadingItem=t.id,this.$emit("add-to-cart",t.id,this.qty)},emptyLoading:function(){this.loadingStatus.loadingItem=""},openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new E["a"](this.$refs.modal,{keyboard:!1,backdrop:"static"})}},Q=(o("7b05"),o("6b0d")),F=o.n(Q);const U=F()(J,[["render",V],["__scopeId","data-v-53a0b8c0"]]);var z=U,B={data:function(){return{cartData:{carts:[]},products:[],product:{},productId:"",isLoading:!1,loadingStatus:{loadingItem:""}}},components:{ProductDetail:z},methods:{getProducts:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/products/all")).then((function(e){t.products=Object.values(e.data.products).map((function(t){return t})),t.isLoading=!1})).catch((function(t){alert(t.response.data.message)}))},getProduct:function(t){this.isLoading=!0,this.loadingStatus.loadingItem=t.id,this.product=t,this.$refs.orderProductModal.openModal(),this.isLoading=!1,this.loadingStatus.loadingItem=""},addToCart:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0,this.loadingStatus.loadingItem=t;var n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart"),a={product_id:t,qty:o};this.$http.post(n,{data:a}).then((function(t){alert(t.data.message),e.getCarts(),e.loadingStatus.loadingItem="",e.isLoading=!1,e.$refs.orderProductModal.hideModal(),e.$refs.orderProductModal.emptyLoading()})).catch((function(t){alert(t.data.message)}))},getCarts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart")).then((function(e){t.cartData=e.data.data})).catch((function(t){alert(t.data.message)}))},removeCart:function(t){var e=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart/").concat(t)).then((function(t){alert(t.data.message),e.getCarts()})).catch((function(t){alert(t.data.message)}))},removeCartAll:function(){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/carts")).then((function(e){alert(e.data.message),t.getCarts()})).catch((function(t){alert(t.data.message)}))},updateCart:function(t){var e=this;this.isLoading=t.id;var o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart/").concat(t.id),n={product_id:t.id,qty:t.qty};this.$refs.orderProductModal.hideModal(),this.$http.put(o,{data:n}).then((function(t){alert(t.data.message),e.getCarts(),e.isLoading=""})).catch((function(t){alert(t.data.message)}))},createOrder:function(){var t=this;this.$validator.validate().then((function(e){if(e){var o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/order"),n=t.form;t.$http.post(o,{data:n}).then((function(e){alert(e.data.message),t.emptyForm(),t.getCarts()})).catch((function(t){console.log("錯誤訊息".concat(t)),alert(t.data)}))}else console.log("客戶戶資料填寫不完整")}))}},mounted:function(){this.getProducts()}};const G=F()(B,[["render",O]]);e["default"]=G}}]);
//# sourceMappingURL=chunk-0d11e3fd.1fd634f8.js.map