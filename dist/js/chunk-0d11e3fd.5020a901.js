(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d11e3fd"],{"057f":function(t,e,n){var o=n("c6b6"),a=n("fc6a"),r=n("241c").f,c=n("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(t){try{return r(t)}catch(e){return c(i)}};t.exports.f=function(t){return i&&"Window"==o(t)?d(t):r(a(t))}},"07ac":function(t,e,n){var o=n("23e7"),a=n("6f53").values;o({target:"Object",stat:!0},{values:function(t){return a(t)}})},"1dde":function(t,e,n){var o=n("d039"),a=n("b622"),r=n("2d00"),c=a("species");t.exports=function(t){return r>=51||!o((function(){var e=[],n=e.constructor={};return n[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"428f":function(t,e,n){var o=n("da84");t.exports=o},"4dae":function(t,e,n){var o=n("da84"),a=n("23cb"),r=n("07fa"),c=n("8418"),i=o.Array,d=Math.max;t.exports=function(t,e,n){for(var o=r(t),s=a(e,o),u=a(void 0===n?o:n,o),l=i(d(u-s,0)),f=0;s<u;s++,f++)c(l,f,t[s]);return l.length=f,l}},"6f53":function(t,e,n){var o=n("83ab"),a=n("e330"),r=n("df75"),c=n("fc6a"),i=n("d1e7").f,d=a(i),s=a([].push),u=function(t){return function(e){var n,a=c(e),i=r(a),u=i.length,l=0,f=[];while(u>l)n=i[l++],o&&!d(a,n)||s(f,t?[n,a[n]]:a[n]);return f}};t.exports={entries:u(!0),values:u(!1)}},"746f":function(t,e,n){var o=n("428f"),a=n("1a2d"),r=n("e538"),c=n("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});a(e,t)||c(e,t,{value:r.f(t)})}},"7b05":function(t,e,n){"use strict";n("df3c")},8418:function(t,e,n){"use strict";var o=n("a04b"),a=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var c=o(e);c in t?a.f(t,c,r(0,n)):t[c]=n}},"99af":function(t,e,n){"use strict";var o=n("23e7"),a=n("da84"),r=n("d039"),c=n("e8b5"),i=n("861d"),d=n("7b0b"),s=n("07fa"),u=n("8418"),l=n("65f0"),f=n("1dde"),b=n("b622"),h=n("2d00"),p=b("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=a.TypeError,O=h>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),j=f("concat"),y=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},w=!O||!j;o({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,o,a,r,c=d(this),i=l(c,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?c:arguments[e],y(r)){if(a=s(r),f+a>g)throw m(v);for(n=0;n<a;n++,f++)n in r&&u(i,f,r[n])}else{if(f>=g)throw m(v);u(i,f++,r)}return i.length=f,i}})},a4d3:function(t,e,n){"use strict";var o=n("23e7"),a=n("da84"),r=n("d066"),c=n("2ba4"),i=n("c65b"),d=n("e330"),s=n("c430"),u=n("83ab"),l=n("4930"),f=n("d039"),b=n("1a2d"),h=n("e8b5"),p=n("1626"),g=n("861d"),v=n("3a9b"),m=n("d9b5"),O=n("825a"),j=n("7b0b"),y=n("fc6a"),w=n("a04b"),S=n("577e"),x=n("5c6c"),L=n("7c73"),C=n("df75"),k=n("241c"),P=n("057f"),I=n("7418"),M=n("06cf"),$=n("9bf2"),T=n("37e8"),_=n("d1e7"),q=n("f36a"),A=n("6eeb"),D=n("5692"),N=n("f772"),V=n("d012"),E=n("90e3"),J=n("b622"),Q=n("e538"),F=n("746f"),U=n("d44e"),z=n("69f3"),B=n("b727").forEach,G=N("hidden"),W="Symbol",H="prototype",K=J("toPrimitive"),R=z.set,X=z.getterFor(W),Y=Object[H],Z=a.Symbol,tt=Z&&Z[H],et=a.TypeError,nt=a.QObject,ot=r("JSON","stringify"),at=M.f,rt=$.f,ct=P.f,it=_.f,dt=d([].push),st=D("symbols"),ut=D("op-symbols"),lt=D("string-to-symbol-registry"),ft=D("symbol-to-string-registry"),bt=D("wks"),ht=!nt||!nt[H]||!nt[H].findChild,pt=u&&f((function(){return 7!=L(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var o=at(Y,e);o&&delete Y[e],rt(t,e,n),o&&t!==Y&&rt(Y,e,o)}:rt,gt=function(t,e){var n=st[t]=L(tt);return R(n,{type:W,tag:t,description:e}),u||(n.description=e),n},vt=function(t,e,n){t===Y&&vt(ut,e,n),O(t);var o=w(e);return O(n),b(st,o)?(n.enumerable?(b(t,G)&&t[G][o]&&(t[G][o]=!1),n=L(n,{enumerable:x(0,!1)})):(b(t,G)||rt(t,G,x(1,{})),t[G][o]=!0),pt(t,o,n)):rt(t,o,n)},mt=function(t,e){O(t);var n=y(e),o=C(n).concat(St(n));return B(o,(function(e){u&&!i(jt,n,e)||vt(t,e,n[e])})),t},Ot=function(t,e){return void 0===e?L(t):mt(L(t),e)},jt=function(t){var e=w(t),n=i(it,this,e);return!(this===Y&&b(st,e)&&!b(ut,e))&&(!(n||!b(this,e)||!b(st,e)||b(this,G)&&this[G][e])||n)},yt=function(t,e){var n=y(t),o=w(e);if(n!==Y||!b(st,o)||b(ut,o)){var a=at(n,o);return!a||!b(st,o)||b(n,G)&&n[G][o]||(a.enumerable=!0),a}},wt=function(t){var e=ct(y(t)),n=[];return B(e,(function(t){b(st,t)||b(V,t)||dt(n,t)})),n},St=function(t){var e=t===Y,n=ct(e?ut:y(t)),o=[];return B(n,(function(t){!b(st,t)||e&&!b(Y,t)||dt(o,st[t])})),o};if(l||(Z=function(){if(v(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=E(t),n=function(t){this===Y&&i(n,ut,t),b(this,G)&&b(this[G],e)&&(this[G][e]=!1),pt(this,e,x(1,t))};return u&&ht&&pt(Y,e,{configurable:!0,set:n}),gt(e,t)},tt=Z[H],A(tt,"toString",(function(){return X(this).tag})),A(Z,"withoutSetter",(function(t){return gt(E(t),t)})),_.f=jt,$.f=vt,T.f=mt,M.f=yt,k.f=P.f=wt,I.f=St,Q.f=function(t){return gt(J(t),t)},u&&(rt(tt,"description",{configurable:!0,get:function(){return X(this).description}}),s||A(Y,"propertyIsEnumerable",jt,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Z}),B(C(bt),(function(t){F(t)})),o({target:W,stat:!0,forced:!l},{for:function(t){var e=S(t);if(b(lt,e))return lt[e];var n=Z(e);return lt[e]=n,ft[n]=e,n},keyFor:function(t){if(!m(t))throw et(t+" is not a symbol");if(b(ft,t))return ft[t]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),o({target:"Object",stat:!0,forced:!l,sham:!u},{create:Ot,defineProperty:vt,defineProperties:mt,getOwnPropertyDescriptor:yt}),o({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:wt,getOwnPropertySymbols:St}),o({target:"Object",stat:!0,forced:f((function(){I.f(1)}))},{getOwnPropertySymbols:function(t){return I.f(j(t))}}),ot){var xt=!l||f((function(){var t=Z();return"[null]"!=ot([t])||"{}"!=ot({a:t})||"{}"!=ot(Object(t))}));o({target:"JSON",stat:!0,forced:xt},{stringify:function(t,e,n){var o=q(arguments),a=e;if((g(e)||void 0!==t)&&!m(t))return h(e)||(e=function(t,e){if(p(a)&&(e=i(a,this,t,e)),!m(e))return e}),o[1]=e,c(ot,null,o)}})}if(!tt[K]){var Lt=tt.valueOf;A(tt,K,(function(t){return i(Lt,this)}))}U(Z,W),V[G]=!0},d81d:function(t,e,n){"use strict";var o=n("23e7"),a=n("b727").map,r=n("1dde"),c=r("map");o({target:"Array",proto:!0,forced:!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},df3c:function(t,e,n){},e01a:function(t,e,n){"use strict";var o=n("23e7"),a=n("83ab"),r=n("da84"),c=n("e330"),i=n("1a2d"),d=n("1626"),s=n("3a9b"),u=n("577e"),l=n("9bf2").f,f=n("e893"),b=r.Symbol,h=b&&b.prototype;if(a&&d(b)&&(!("description"in h)||void 0!==b().description)){var p={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=s(h,this)?new b(t):void 0===t?b():b(t);return""===t&&(p[e]=!0),e};f(g,b),g.prototype=h,h.constructor=g;var v="Symbol(test)"==String(b("test")),m=c(h.toString),O=c(h.valueOf),j=/^Symbol\((.*)\)[^)]+$/,y=c("".replace),w=c("".slice);l(h,"description",{configurable:!0,get:function(){var t=O(this),e=m(t);if(i(p,t))return"";var n=v?w(e,7,-1):y(e,j,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:g})}},e538:function(t,e,n){var o=n("b622");e.f=o},fd15:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),a={class:"container"},r={class:"mt-4"},c={class:"table align-middle"},i=Object(o["h"])("thead",null,[Object(o["h"])("tr",null,[Object(o["h"])("th",null,"圖片"),Object(o["h"])("th",null,"商品名稱"),Object(o["h"])("th",null,"價格"),Object(o["h"])("th")])],-1),d={style:{width:"200px"}},s={key:0,class:"h5"},u={key:1,class:"h6"},l={key:2,class:"h5"},f={class:"btn-group btn-group-sm"},b=["onClick","disabled"],h={class:"spinner-grow spinner-grow-sm"},p=Object(o["i"])(" 查看更多 "),g=["onClick","disabled"],v={class:"spinner-grow spinner-grow-sm"},m=Object(o["i"])(" 加到購物車 ");function O(t,e,n,O,j,y){var w=Object(o["I"])("Loading"),S=Object(o["I"])("ProductDetail");return Object(o["y"])(),Object(o["g"])("div",a,[Object(o["j"])(w,{active:j.isLoading,"z-index":1060},null,8,["active"]),Object(o["h"])("div",r,[Object(o["j"])(S,{product:j.product,onAddToCart:y.addToCart,ref:"orderProductModal"},null,8,["product","onAddToCart"]),Object(o["h"])("table",c,[i,Object(o["h"])("tbody",null,[(Object(o["y"])(!0),Object(o["g"])(o["a"],null,Object(o["G"])(j.products,(function(t){return Object(o["y"])(),Object(o["g"])("tr",{key:t.id},[Object(o["h"])("td",d,[Object(o["h"])("div",{style:Object(o["s"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(o["h"])("td",null,Object(o["L"])(t.title),1),Object(o["h"])("td",null,[t.price?Object(o["f"])("",!0):(Object(o["y"])(),Object(o["g"])("div",s,Object(o["L"])(t.origin_price)+" 元",1)),t.price?(Object(o["y"])(),Object(o["g"])("del",u,"原價 "+Object(o["L"])(t.origin_price)+" 元",1)):Object(o["f"])("",!0),t.price?(Object(o["y"])(),Object(o["g"])("div",l,"現在只要 "+Object(o["L"])(t.price)+" 元",1)):Object(o["f"])("",!0)]),Object(o["h"])("td",null,[Object(o["h"])("div",f,[Object(o["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return y.getProduct(t)},disabled:j.loadingStatus.loadingItem===t.id},[Object(o["V"])(Object(o["h"])("span",h,null,512),[[o["Q"],j.loadingStatus.loadingItem===t.id]]),p],8,b),Object(o["h"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return y.addToCart(t.id)},disabled:j.loadingStatus.loadingItem===t.id},[Object(o["V"])(Object(o["h"])("span",v,null,512),[[o["Q"],j.loadingStatus.loadingItem===t.id]]),m],8,g)])])])})),128))])])])])}n("99af"),n("d81d"),n("07ac"),n("a4d3"),n("e01a");var j={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},y={class:"modal-dialog modal-xl",role:"document"},w={class:"modal-content border-0"},S={class:"modal-header bg-dark text-white"},x={class:"modal-title",id:"exampleModalLabel"},L={class:"modal-body"},C={class:"row"},k={class:"col-sm-6"},P=["src"],I={class:"col-sm-6"},M={class:"badge bg-primary rounded-pill"},$={key:0,class:"h5"},T={key:1,class:"h6"},_={key:2,class:"h5"},q={class:"input-group"},A=["disabled"],D={class:"spinner-grow spinner-grow-sm"},N=Object(o["i"])(" 加入購物車 ");function V(t,e,n,a,r,c){return Object(o["y"])(),Object(o["g"])("div",j,[Object(o["h"])("div",y,[Object(o["h"])("div",w,[Object(o["h"])("div",S,[Object(o["h"])("h5",x,[Object(o["h"])("span",null,Object(o["L"])(n.product.title),1)]),Object(o["h"])("button",{onClick:e[0]||(e[0]=function(t){return c.hideModal()}),type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),Object(o["h"])("div",L,[Object(o["h"])("div",C,[Object(o["h"])("div",k,[Object(o["h"])("img",{class:"img-fluid",src:n.product.imageUrl,alt:""},null,8,P)]),Object(o["h"])("div",I,[Object(o["h"])("span",M,Object(o["L"])(n.product.category),1),Object(o["h"])("p",null,"商品描述："+Object(o["L"])(n.product.description),1),Object(o["h"])("p",null,"商品內容："+Object(o["L"])(n.product.content),1),n.product.price?Object(o["f"])("",!0):(Object(o["y"])(),Object(o["g"])("div",$,Object(o["L"])(n.product.origin_price)+" 元 ",1)),n.product.price?(Object(o["y"])(),Object(o["g"])("del",T,"原價 "+Object(o["L"])(n.product.origin_price)+" 元",1)):Object(o["f"])("",!0),n.product.price?(Object(o["y"])(),Object(o["g"])("div",_," 現在只要 "+Object(o["L"])(n.product.price)+" 元 ",1)):Object(o["f"])("",!0),Object(o["h"])("div",null,[Object(o["h"])("div",q,[Object(o["V"])(Object(o["h"])("input",{type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.qty=t}),min:"1"},null,512),[[o["P"],r.qty,void 0,{number:!0}]]),Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return c.addToCart(n.product)}),disabled:r.loadingStatus.loadingItem===n.product.id},[Object(o["V"])(Object(o["h"])("span",D,null,512),[[o["Q"],r.loadingStatus.loadingItem===n.product.id]]),N],8,A)])])])])])])])],512)}var E=n("7b17"),J={data:function(){return{modal:"",qty:1,loadingStatus:{loadingItem:""}}},props:["product"],methods:{addToCart:function(t){this.loadingStatus.loadingItem=t.id,this.$emit("add-to-cart",t.id,this.qty)},emptyLoading:function(){this.loadingStatus.loadingItem=""},openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new E["a"](this.$refs.modal,{keyboard:!1,backdrop:"static"})}},Q=(n("7b05"),n("6b0d")),F=n.n(Q);const U=F()(J,[["render",V],["__scopeId","data-v-53a0b8c0"]]);var z=U,B={data:function(){return{cartData:{carts:[]},products:[],product:{},productId:"",isLoading:!1,loadingStatus:{loadingItem:""}}},components:{ProductDetail:z},methods:{getProducts:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/products/all")).then((function(e){t.products=Object.values(e.data.products).map((function(t){return t})),t.isLoading=!1})).catch((function(t){alert(t.response.data.message)}))},getProduct:function(t){this.isLoading=!0,this.loadingStatus.loadingItem=t.id,this.product=t,this.$refs.orderProductModal.openModal(),this.isLoading=!1,this.loadingStatus.loadingItem=""},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0,this.loadingStatus.loadingItem=t;var o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart"),a={product_id:t,qty:n};this.$http.post(o,{data:a}).then((function(t){alert(t.data.message),e.getCarts(),e.loadingStatus.loadingItem="",e.isLoading=!1,e.$refs.orderProductModal.hideModal(),e.$refs.orderProductModal.emptyLoading()})).catch((function(t){alert(t.data.message)}))},getCarts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart")).then((function(e){t.cartData=e.data.data})).catch((function(t){alert(t.data.message)}))},removeCart:function(t){var e=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart/").concat(t)).then((function(t){alert(t.data.message),e.getCarts()})).catch((function(t){alert(t.data.message)}))},removeCartAll:function(){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/carts")).then((function(e){alert(e.data.message),t.getCarts()})).catch((function(t){alert(t.data.message)}))},updateCart:function(t){var e=this;this.isLoading=t.id;var n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/cart/").concat(t.id),o={product_id:t.id,qty:t.qty};this.$refs.orderProductModal.hideModal(),this.$http.put(n,{data:o}).then((function(t){alert(t.data.message),e.getCarts(),e.isLoading=""})).catch((function(t){alert(t.data.message)}))},createOrder:function(){var t=this;this.$validator.validate().then((function(e){if(e){var n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hexschooljerry","/order"),o=t.form;t.$http.post(n,{data:o}).then((function(e){alert(e.data.message),t.emptyForm(),t.getCarts()})).catch((function(t){console.log("錯誤訊息".concat(t)),alert(t.data)}))}else console.log("客戶戶資料填寫不完整")}))}},mounted:function(){this.getProducts()}};const G=F()(B,[["render",O]]);e["default"]=G}}]);
//# sourceMappingURL=chunk-0d11e3fd.5020a901.js.map